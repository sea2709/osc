var learndash_shortcodes=jQuery.extend(learndash_shortcodes||{},{tinymce_editor:null,show_popup_html:function(){var e=learndash_shortcodes.get_tinymce_url();"undefined"!=typeof learndash_admin_shortcodes_assets&&""!=learndash_admin_shortcodes_assets||(learndash_admin_shortcodes_assets={});var s=jQuery("#learndash_shortcodes_holder").length;if(s)tb_show("LearnDash Shortcodes",e);else{jQuery("body").append('<div id="learndash_shortcodes_holder" style="display: none;"><div id="learndash_shortcodes"></div></div>');var t={action:"learndash_generate_shortcodes_content",atts:learndash_admin_shortcodes_assets};jQuery.ajax({type:"POST",url:ajaxurl,dataType:"html",cache:!1,data:t,error:function(e,s,t){},success:function(s){void 0!==s&&jQuery("#learndash_shortcodes").html(s),learndash_shortcodes.popup_init(),tb_show("LearnDash Shortcodes",e)}})}},get_tinymce_url:function(){var e=jQuery(window).width(),s=jQuery(window).height(),t=950<e?950:e,a=s;t-=80,a-=84;var r="#TB_inline?width="+t+"&height="+a+"&inlineId=learndash_shortcodes";return r},tinymce_callback:function(e){learndash_shortcodes.tinymce_editor=e,learndash_shortcodes.show_popup_html()},qt_callback:function(){learndash_shortcodes.tinymce_editor=null,learndash_shortcodes.show_popup_html()},popup_init:function(){jQuery("#learndash_shortcodes_tabs a").click(function(e){e.preventDefault(),learndash_shortcodes.tabs_switch(jQuery(this))}),learndash_shortcodes.tabs_switch(jQuery("#learndash_shortcodes a").first()),jQuery("form.learndash_shortcodes_form").submit(function(e){e.preventDefault(),tb_remove(),learndash_shortcodes.popup_submit(this)})},tabs_switch:function(e){jQuery("#learndash_shortcodes_sections .hidable").hide(),jQuery("#learndash_shortcodes_sections #tabs-"+e.attr("data-nav")).show(),jQuery("#learndash_shortcodes_tabs li").removeClass("current"),e.parent().addClass("current")},get_selected_text:function(){var e=document.getElementById("content"),s=e.selectionStart,t=e.selectionEnd;return e.value.substring(s,t)},popup_submit:function(e){var s=jQuery(e).attr("shortcode_slug"),t=jQuery(e).attr("shortcode_type");void 0===t&&(t=1);var a="["+s,r=e.elements,o="";if(r.length>0)for(var n=0;n<r.length;){var d=r[n];switch(d.type){case"textarea":2==t?o=d.value:a+=" "+d.name+'="'+d.value.replace(/"/g,'\\"')+'"';break;case"checkbox":d.checked&&void 0!==d.value&&""!=d.value&&"0"!=d.value&&(a+=" "+d.name+'="'+d.value.replace(/"/g,'\\"')+'"');break;case"submit":break;case"text":default:if(void 0!==d.value&&""!=d.value){d.value.replace(/\W/g,"");a+=" "+d.name+'="'+d.value.replace(/"/g,'\\"')+'"'}}n+=1}a+="]",2==t&&""!=o&&(a+=o,a+="[/"+s+"]"),null!==learndash_shortcodes.tinymce_editor?learndash_shortcodes.tinymce_editor.setContent(a):QTags.insertContent(a)}});